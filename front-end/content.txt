def rebase(input_base, digits, output_base):
    if input_base < 2:
        raise ValueError("input base must be >= 2")
    if output_base < 2:
        raise ValueError("output base must be >= 2")

    if len(digits)==0:
        return [0]
    d = ""
    for s in digits:
        if s >= input_base:
            raise ValueError("all digits must satisfy 0 <= d < input base")
        if  s < 0:
            raise ValueError("all digits must satisfy 0 <= d < input base")
        else:
            d+= str(s)
    d = int(d)
    if d < 0 and d > input_base:
        raise ValueError("all digits must satisfy 0 <= d < input base")
    if d==0:
        return [0]
    if d==1:
        return[1]
    else:
        #once every error case is covered we start by converting data
        digits.reverse()
        sum = 0
        for i in range(len(digits)):
            sum += i*pow(input_base,i)
        return [sum]
